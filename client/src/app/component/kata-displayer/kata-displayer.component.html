<div class="container" *ngIf="!error">
  <div *ngIf="inforreceived">
    <h1 class="title" style="margin:2rem 0 0 2rem;">{{program.title}}
      <br/>
      <span class="subtitle">{{program.sensei}} <span class="language"> {{program.language}}</span>
    </span>

      <div *ngIf="isOwner">
        <button mat-button style="margin:0 3rem 0 0;float:right;"
                routerLink="/kata_create/{{programid}}/{{program.language}}">Add Kata
        </button>
        <button mat-button style="margin:0 3rem 0 0;float:right" routerLink="/program/edit/{{programid}}">Edit</button>
        <button mat-button style="margin:0 3rem 0 0;float:right" (click)="openDialog()">Delete</button>
      </div>

      <button mat-button style="margin:0 3rem 0 0;float:right" *ngIf="!isOwner"
              (click)="subscribe()">{{subvalue}}</button>
    </h1>


  </div>
  <br/>
  <span style="margin:0 0 0 2rem;" class="subtitle">{{program.description}}</span>
  <hr/>
  <span style="margin:2rem 0 0 2rem;" *ngFor="let tag of program.tags">
       <span class="tag">{{tag}}</span>
    </span>

  <div *ngIf="katas" disabled [ngClass]="isSubscribed ? '' : 'deactivated'">
   <div class="d-flex flex-wrap justify-content-start">
    <span *ngFor="let kata of katas">
        <div class="card" [ngClass]="!kata.activated ? '' : 'deactivated'">
          <div class="card-body">
            <h5 class="card-title"><a class="title"
                                      routerLink="/kata/{{programid}}/{{kata.id}}">{{kata.title}}</a>
            <span style="float:right;"
                  [ngClass]="{'TODO':kata.status==='TODO','ON-GOING':kata.status==='ON-GOING','RESOLVED':kata.status==='RESOLVED','FAILED': kata.status==='FAILED'}">{{kata.status}}</span></h5>
            <br/>
            <h6 class="card-subtitle mb-2 text-muted">{{kata.difficulty}}</h6>
            <button mat-button *ngIf="isOwner" (click)="openDialogMoreActions(kata.title,kata.id)"
                    class="card-link"> + </button>
          </div>
        </div>
      </span>
    </div>
  </div>
</div>

<span *ngIf="!katas || !inforreceived"><ngx-ui-loader></ngx-ui-loader></span>

<div *ngIf="error">
  <app-rnot-found></app-rnot-found>
</div>

